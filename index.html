<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Discernment Guide</title>

<!-- Favicons -->
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link rel="icon" type="image/png" sizes="16x16" href="favicon_16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon_32.png">
<link rel="icon" type="image/png" sizes="48x48" href="favicon_48.png">
<link rel="icon" type="image/png" sizes="64x64" href="favicon_64.png">
<link rel="apple-touch-icon" sizes="180x180" href="favicon_180.png">
<link rel="icon" type="image/png" sizes="192x192" href="favicon_192.png">
<link rel="icon" type="image/png" sizes="256x256" href="favicon_256.png">
<link rel="icon" type="image/png" sizes="384x384" href="favicon_384.png">
<link rel="icon" type="image/png" sizes="512x512" href="favicon_512.png">
<link rel="shortcut icon" href="favicon.ico">

<style>
  :root {
    --track-height: 8px;
    --thumb-size: 28px;
    --thumb-shadow: 0 1px 3px rgba(0,0,0,.25);
    --track-bg: #e0e0e0;
    --fill: #2d6cdf;
    --pct: 0%;
    --tick-color: rgba(0,0,0,.35);
    --tick-thickness: 2px;
    --tick-length: 6px;
  }

  body { font-family: Arial, sans-serif; background:#f7f7f7; margin:0; padding:0; }
  .container { max-width: 650px; margin:auto; padding:20px; }
  .top-bar { display:flex; justify-content:space-between; margin-bottom:10px; }
  .card {
    background:#fff; padding:20px; border-radius:8px;
    box-shadow:0 2px 6px rgba(0,0,0,0.1); min-height:280px;
    display:flex; flex-direction:column; justify-content:space-between;
  }
  .segment-heading {
    display:flex; align-items:center; justify-content:space-between;
    font-size:1.8em; font-weight:bold; margin-bottom:15px; padding:8px;
    border-bottom:2px solid #ddd;
  }
  .segment-title { display:inline-flex; align-items:center; gap:8px; }
  .segment-title img.logo { height:1.2em; width:auto; margin-right:6px; }

  .buttons { display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-start; }
  .buttons.center { justify-content:center; }
  button { padding:10px 14px; font-size:1em; border:none; border-radius:5px; cursor:pointer; }
  button.yes { background:#4CAF50; color:#fff; }
  button.no { background:#F44336; color:#fff; }
  button.same { background:#1E88E5; color:#fff; }
  button.next { background:#2196F3; color:#fff; }
  button.restart { background:#9C27B0; color:#fff; }

  .text { font-size:1.3em; margin-bottom:12px; white-space:pre-wrap; }

  .risk-inline { display:none; border:1px solid #eee; border-radius:6px; padding:12px; background:#fafafa; margin:8px 0 18px 0; }
  .sev-display { text-align:center; font-size:1.8em; font-weight:bold; margin-bottom:8px; }

  /* Slider + ticks */
  .slider-wrap {
    position: relative;
    width: 100%;
    height: calc(var(--thumb-size) + var(--tick-length) * 2 + 8px);
    display:flex; align-items:center; justify-content:center;
  }
  .heat-slider {
    -webkit-appearance:none; appearance:none;
    width:100%; height:var(--thumb-size); background:transparent; position:relative; z-index:1;
  }
  .heat-slider::-webkit-slider-runnable-track {
    height: var(--track-height);
    border-radius:calc(var(--track-height)/2);
    background:linear-gradient(to right,var(--fill) 0%,var(--fill) var(--pct),var(--track-bg) var(--pct),var(--track-bg) 100%);
  }
  .heat-slider::-webkit-slider-thumb {
    -webkit-appearance:none; appearance:none;
    width:var(--thumb-size); height:var(--thumb-size);
    border-radius:50%; background:#fff; border:2px solid #999;
    box-shadow:var(--thumb-shadow);
    margin-top:calc((var(--thumb-size) - var(--track-height)) / -2);
    cursor:pointer;
  }
  .tick-row {
    position:absolute;
    left:calc(var(--thumb-size)/2);
    right:calc(var(--thumb-size)/2);
    height:var(--tick-length);
    pointer-events:none;
  }
  .tick-row.top { bottom:50%; transform:translateY(calc(-50% - var(--track-height)/2 - 1px)); }
  .tick-row.bottom { top:50%; transform:translateY(calc(-50% + var(--track-height)/2 + 1px)); }
  .tick { position:absolute; width:var(--tick-thickness); height:100%; background:var(--tick-color); transform:translateX(-50%); }
</style>
</head>
<body>
<div class="container">
  <div class="top-bar">
    <button class="restart" onclick="restart()">Restart</button>
  </div>
  <div class="card">
    <div id="segmentHeading" class="segment-heading">
      <span id="segmentTitle" class="segment-title">‚è≥ When You Should Act</span>
    </div>
    <div>
      <div id="text" class="text">Set the estimated catastrophic severity if you waited too long to act. (1-10)</div>
      <div id="riskInline" class="risk-inline"></div>
    </div>
    <div id="buttons" class="buttons"></div>
  </div>
</div>

<script>
/* === Slider color === */
function heatColorForSeverity(sev){
  var ratio = Math.pow((sev-1)/9,0.4);
  var hue = 220*(1-ratio);
  return 'hsl('+Math.round(hue)+',100%,50%)';
}
function updateSliderFill(slider,sev){
  var pct=((sev-1)/9)*100;
  slider.style.setProperty('--pct',pct+'%');
  slider.style.setProperty('--fill',heatColorForSeverity(sev));
}

/* === Tick creation === */
function createTickRow(className,parent){
  var row=document.createElement('div');
  row.className='tick-row '+className;
  for(var i=1;i<=10;i++){
    var t=document.createElement('div');
    t.className='tick';
    var pct=((i-1)/9)*100;
    t.style.left=pct+'%';
    row.appendChild(t);
  }
  parent.appendChild(row);
  return row;
}

/* === Render slider === */
function renderSlider(){
  var container=document.getElementById('riskInline');
  container.innerHTML='';
  container.style.display='block';
  var sevDisplay=document.createElement('div');
  sevDisplay.className='sev-display';
  sevDisplay.id='sevDisplay';
  sevDisplay.textContent='1';
  container.appendChild(sevDisplay);

  var wrap=document.createElement('div');
  wrap.className='slider-wrap';

  var slider=document.createElement('input');
  slider.type='range'; slider.min='1'; slider.max='10'; slider.step='1';
  slider.className='heat-slider'; slider.value='1';

  createTickRow('top',wrap);
  wrap.appendChild(slider);
  createTickRow('bottom',wrap);

  container.appendChild(wrap);

  function applyFromSeverity(sev){
    sevDisplay.textContent=sev;
    updateSliderFill(slider,sev);
  }
  applyFromSeverity(1);

  slider.oninput=function(){
    var sev=parseInt(slider.value,10);
    applyFromSeverity(sev);
  };
}

function restart(){ renderSlider(); }

/* Init */
renderSlider();
</script>
</body>
</html>